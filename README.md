# ç°è‰²è½¨è¿¹ - ç²¾å“ç½‘å€å¯¼èˆªç«™

<p align="center">
  ä¸€ä¸ªä¼˜é›…ã€å¿«é€Ÿã€æ˜“äºéƒ¨ç½²çš„ä¹¦ç­¾ï¼ˆç½‘å€ï¼‰æ”¶è—ä¸åˆ†äº«å¹³å°ï¼Œå®Œå…¨åŸºäº Cloudflare å…¨å®¶æ¡¶æ„å»ºã€‚
</p>

<p align="center">
  <a href="#âœ¨-æ ¸å¿ƒç‰¹æ€§">ç‰¹æ€§</a> â€¢
  <a href="#ğŸš€ ä¸€é”®éƒ¨ç½²">éƒ¨ç½²</a> â€¢
  <a href="#â¬†ï¸-ç‰ˆæœ¬å‡çº§">å‡çº§</a> â€¢
  <a href="#ğŸ› ï¸-è‡ªå®šä¹‰å¼€å‘">å¼€å‘</a> â€¢
  <a href="#ğŸŒŸ-è´¡çŒ®">è´¡çŒ®</a> â€¢
  <a href="#changelog">æ›´æ–°æ—¥å¿—</a>
</p>

<p align="center">
  <strong>åœ¨çº¿ä½“éªŒ:</strong> <a href="https://nav.iori.de5.net">https://nav.iori.de5.net</a>
</p>

---

## ğŸ–¼ï¸ æ•ˆæœé¢„è§ˆ

| é¦–é¡µ | åå°ç®¡ç† |
| :---: | :---: |
| ![é¦–é¡µé¢„è§ˆ](https://github.com/user-attachments/assets/b12755c5-7669-408f-be05-2db6ba1b02cc) | ![åå°é¢„è§ˆ](https://github.com/user-attachments/assets/d387794d-95f8-42e9-879d-41fc6c5f5fa8) |

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾é€‚é…æ¡Œé¢ã€å¹³æ¿å’Œæ‰‹æœºç­‰å„ç§è®¾å¤‡ã€‚
- ğŸ¨ **ä¸»é¢˜ç¾è§‚**ï¼šç•Œé¢ç®€æ´ä¼˜é›…ï¼Œæ”¯æŒè‡ªå®šä¹‰ä¸»è‰²è°ƒã€‚
- ğŸ” **å¿«é€Ÿæœç´¢**ï¼šå†…ç½®ç«™å†…æ¨¡ç³Šæœç´¢ï¼Œè¿…é€Ÿå®šä½æ‰€éœ€ç½‘ç«™ã€‚
- ğŸ“‚ **åˆ†ç±»æ¸…æ™°**ï¼šé€šè¿‡åˆ†ç±»ç»„ç»‡ä¹¦ç­¾ï¼Œæµè§ˆç›´è§‚é«˜æ•ˆã€‚
- ğŸ”’ **å®‰å…¨åå°**ï¼šåŸºäº KV çš„ç®¡ç†å‘˜è®¤è¯ï¼Œæä¾›å®Œæ•´çš„ä¹¦ç­¾å¢åˆ æ”¹æŸ¥åå°ã€‚
- ğŸ“ **ç”¨æˆ·æäº¤ï¼ˆå¯é…ç½®ï¼‰**ï¼šæ”¯æŒè®¿å®¢æäº¤ä¹¦ç­¾ï¼Œç»ç®¡ç†å‘˜å®¡æ ¸åæ˜¾ç¤ºï¼Œå¯åœ¨ç¯å¢ƒå˜é‡ä¸­å…³é—­å…¥å£ã€‚
- âš¡ **æ€§èƒ½å“è¶Š**ï¼šåˆ©ç”¨ Cloudflare è¾¹ç¼˜ç¼“å­˜ï¼Œå®ç°ç§’çº§åŠ è½½ï¼Œå¹¶æå¤§èŠ‚çœ D1 æ•°æ®åº“è¯»å–æˆæœ¬ã€‚
- ğŸ“¤ **æ•°æ®ç®¡ç†**ï¼šæ”¯æŒä¹¦ç­¾æ•°æ®çš„å¯¼å…¥ä¸å¯¼å‡ºï¼Œæ ¼å¼å…¼å®¹ï¼Œæ–¹ä¾¿è¿ç§»ã€‚



## ğŸ”„ ç‰ˆæœ¬äº®ç‚¹

- ğŸ›¡ï¸ **åå°ä¼šè¯å®‰å…¨å‡çº§**ï¼šç™»å½• `/admin` æ—¶å°†é¢å‘ 12 å°æ—¶æœ‰æ•ˆçš„ HttpOnly ä¼šè¯ Cookieï¼Œå‡­æ®ä¸å†æš´éœ²åœ¨ URL ä¸­ï¼Œå¹¶æ–°å¢ä¸€é”®é€€å‡ºç™»å½•ã€‚
- ğŸ§¹ **è¾“å…¥ä¸å±•ç¤ºåŒé‡æ ¡éªŒ**ï¼šæ–°å¢ URL è§„èŒƒåŒ–ã€HTML è½¬ä¹‰ä¸æ’åºå€¼å½’ä¸€åŒ–é€»è¾‘ï¼Œå‰åå°åŒæ—¶é˜²æ­¢è„æ•°æ®å’Œæ½œåœ¨ XSSã€‚
- ğŸšª **è®¿å®¢æŠ•ç¨¿å¯æ§**ï¼šé€šè¿‡ `ENABLE_PUBLIC_SUBMISSION` ç¯å¢ƒå˜é‡å³å¯å…³é—­å‰å°æŠ•ç¨¿å…¥å£ï¼Œç›¸å…³æ¥å£è‡ªåŠ¨è¿”å› 403ï¼Œæ–¹ä¾¿è¿è¥æœŸæŒ‰éœ€å¼€å…³ã€‚
- âš™ï¸ **å¢åŠ AIä¸€é”®è‡ªåŠ¨ç”Ÿæˆæè¿°**ï¼šæä¾›Google Geminiå’ŒOpenAIæ¥å£ã€‚
- ğŸ“ **å¢åŠ logoè‡ªåŠ¨ç”Ÿæˆ**ï¼šé»˜è®¤ä½¿ç”¨ https://favicon.im æ¥å£ï¼Œå¯åœ¨ç¯å¢ƒå˜é‡ä¸­è‡ªå®šä¹‰
- ğŸ“¦ **å¯¼å…¥å¯¼å‡ºæ•°æ®**ï¼šæä¾›ä¹¦ç­¾æ•°æ®çš„å¯¼å…¥ä¸å¯¼å‡ºï¼Œæ”¯æŒchormeå¯¼å‡ºçš„htmlæ ¼å¼ä¸€é”®å¯¼å…¥


## ğŸš€ å¿«é€Ÿéƒ¨ç½²

> **å‡†å¤‡å·¥ä½œ**: ä½ éœ€è¦ä¸€ä¸ª Cloudflare è´¦å·ã€‚

### æ­¥éª¤ 1: Fork æœ¬ä»“åº“
[![Fork on GitHub](https://img.shields.io/badge/Fork-GitHub-181717?style=for-the-badge&logo=github)](https://github.com/jy02739244/iori-nav/fork)
 **Fork é¡¹ç›®**: ç‚¹å‡»ä¸Šæ–¹"Fork on GitHub"æŒ‰é’®ï¼Œï¼Œå¹¶ç‚¹ä¸Š Star !!!
### æ­¥éª¤ 2: éƒ¨ç½²åˆ°Cloudflare Pages
[![Deploy to Cloudflare Pages](https://img.shields.io/badge/Deploy-Cloudflare%20Pages-F38020?style=for-the-badge&logo=cloudflare&logoColor=white)](https://dash.cloudflare.com/?to=/:account/pages/new/provider/github)
ç‚¹å‡»ä¸Šæ–¹"DEPLOY  CLOUDFLARE PAGES"æŒ‰é’®,è·³è½¬åˆ°Cloudflareï¼Œç„¶åé€‰è¿æ¥åˆ°Githubï¼Œæˆæƒåé€‰æ‹©åˆšæ‰forkçš„é¡¹ç›®ï¼Œ
### æ­¥éª¤ 2: éƒ¨ç½²åˆ°Cloudflare Pages

1.  åœ¨ Cloudflare æ§åˆ¶å°ï¼Œè¿›å…¥ `Workers & Pages` -> `D1`ã€‚
2.  ç‚¹å‡» `åˆ›å»ºæ•°æ®åº“`ï¼Œæ•°æ®åº“åç§°è¾“å…¥ `book`ï¼Œç„¶ååˆ›å»ºã€‚

    ![åˆ›å»ºD1æ•°æ®åº“](https://github.com/user-attachments/assets/f49d61ea-a87b-42ed-a460-98e53fb340e0)


### æ­¥éª¤ 2: åˆ›å»º KV å­˜å‚¨

1.  åœ¨ Cloudflare æ§åˆ¶å°ï¼Œè¿›å…¥ `Workers & Pages` -> `KV`ã€‚
2.  ç‚¹å‡» `åˆ›å»ºå‘½åç©ºé—´`ï¼Œåç§°è¾“å…¥ `NAV_AUTH`ã€‚

    ![åˆ›å»ºKV](https://github.com/user-attachments/assets/ed274f2d-2bf0-4f26-aa86-90e22286e94b)

3.  åˆ›å»ºåï¼Œä¸ºæ­¤ KV æ·»åŠ ä¸¤ä¸ªæ¡ç›®ï¼Œç”¨äºè®¾ç½®åå°ç™»å½•çš„ **ç”¨æˆ·å** å’Œ **å¯†ç **ã€‚
    -   **admin_username**: ä½ çš„ç®¡ç†å‘˜ç”¨æˆ·åï¼ˆä¾‹å¦‚ `admin`ï¼‰
    -   **admin_password**: ä½ çš„ç®¡ç†å‘˜å¯†ç 

    ![è®¾ç½®KVé”®å€¼å¯¹](https://github.com/user-attachments/assets/2fd5742f-5709-4ad9-b4fa-865cbca0bb8e)


## ğŸš€ ä¸€é”®éƒ¨ç½²



### éƒ¨ç½²æ­¥éª¤:


2. **è¿æ¥åˆ° Cloudflare Pages**: 
   - ç‚¹å‡»ä¸Šæ–¹"Deploy to Cloudflare Pages"æŒ‰é’®
   - ç™»å½•åä¼šè‡ªåŠ¨è·³è½¬åˆ° GitHub è¿æ¥é¡µé¢
   - æˆæƒå¹¶é€‰æ‹©ä½  Fork çš„ `iori-nav` ä»“åº“
   - é…ç½®æ„å»ºè®¾ç½®(ä¿æŒé»˜è®¤å³å¯)
   - ç‚¹å‡»"ä¿å­˜å¹¶éƒ¨ç½²"
3. **é…ç½®æ•°æ®åº“å’Œå­˜å‚¨**: å®Œæˆåç»­çš„ D1 å’Œ KV é…ç½®(è§ä¸‹æ–¹è¯¦ç»†æ­¥éª¤) ğŸ‘‡




### æ­¥éª¤ 4: ç»‘å®šæœåŠ¡

1.  è¿›å…¥ä½ åˆšåˆšåˆ›å»ºçš„ Worker çš„ `è®¾ç½®` -> `å˜é‡`ã€‚
2.  åœ¨ **D1 æ•°æ®åº“ç»‘å®š** ä¸­ï¼Œç‚¹å‡» `æ·»åŠ ç»‘å®š`ï¼š
    -   å˜é‡åç§°: `NAV_DB`
    -   D1 æ•°æ®åº“: é€‰æ‹©ä½ åˆ›å»ºçš„ `book`
3.  åœ¨ **KV å‘½åç©ºé—´ç»‘å®š** ä¸­ï¼Œç‚¹å‡» `æ·»åŠ ç»‘å®š`ï¼š
    -   å˜é‡åç§°: `NAV_AUTH`
    -   KV å‘½åç©ºé—´: é€‰æ‹©ä½ åˆ›å»ºçš„ `NAV_AUTH`

    ![ç»‘å®šæœåŠ¡](https://github.com/user-attachments/assets/269f4678-4e8a-4dbd-a8d7-f186466f4380)

### æ­¥éª¤ 5: å¼€å§‹ä½¿ç”¨

1.  è®¿é—®ä½ çš„ Worker åŸŸåï¼ˆä¾‹å¦‚ `my-nav.your-subdomain.workers.dev`ï¼‰ã€‚é¦–æ¬¡è®¿é—®ä¼šæç¤ºæ²¡æœ‰æ•°æ®ã€‚
2.  è®¿é—® `ä½ çš„åŸŸå/admin` è¿›å…¥åå°ï¼Œä½¿ç”¨ä½ åœ¨ **æ­¥éª¤ 2** ä¸­è®¾ç½®çš„ç”¨æˆ·åå’Œå¯†ç ç™»å½•ã€‚
3.  åœ¨åå°æ·»åŠ ç¬¬ä¸€ä¸ªä¹¦ç­¾åï¼Œé¦–é¡µå³å¯æ­£å¸¸æ˜¾ç¤ºã€‚

    ![åå°ç™»å½•](https://github.com/user-attachments/assets/284e3560-284f-4313-a7c6-d651d2e25c00)


## ğŸ”‘ ç¯å¢ƒå˜é‡è¯´æ˜

| å˜é‡å | é»˜è®¤å€¼ | å¿…å¡« | å¤‡æ³¨ |
|--------|---------|-|-----|
| ENABLE_PUBLIC_SUBMISSION | `false` |âœ…| å…è®¸è®¿å®¢æ·»åŠ ä¹¦ç­¾ |
| SITE_NAME | `ç°è‰²è½¨è¿¹` |âŒ| ç½‘ç«™åç§°ä»¥åŠé¦–é¡µæ˜¾ç¤ºåç§° |
| SITE_DESCRIPTION | `ä¸€ä¸ªç®€å•æ˜“ç”¨çš„ä¹¦ç­¾å¯¼èˆªç³»ç»Ÿ` |âŒ| é¦–é¡µå‰¯æ ‡é¢˜ |
| FOOTER_TEXT | `æ›¾æ¢¦æƒ³ä»—å‰‘èµ°å¤©æ¶¯` |âŒ| é¦–é¡µå‰¯æ ‡é¢˜ |
| ICON_API | `https://favicon.im/` |âŒ| å›¾æ ‡API |
| AI_REQUEST_DELAY | 1500 |âŒ| AIä¸€é”®è¡¥å…¨æè¿°æ—¶çš„è°ƒç”¨é—´éš” |

> **æ³¨æ„**: æˆ‘ä½¿ç”¨å…è´¹çš„Geminiçš„api keyï¼Œæ¨¡å‹ä½¿ç”¨gemini-2.5-flash-lite,é™åˆ¶æ˜¯15æ¬¡/1åˆ†é’Ÿ,è‡ªå·±çœ‹å®é™…æƒ…å†µè¿›è¡Œè®¾ç½®

### ç®¡ç†åå°å®‰å…¨

åå°ç™»å½•å‡­æ®ä¾ç„¶å­˜æ”¾åœ¨ `NAV_AUTH` KV ä¸­çš„ `admin_username` ä¸ `admin_password` ä¸¤ä¸ªé”®å†…ã€‚ç™»å½• `/admin` æ—¶éœ€è¦åœ¨é¡µé¢è¡¨å•ä¸­è¾“å…¥è´¦å·ä¸å¯†ç ï¼Œç³»ç»Ÿä¼šè¿”å›ä¸€ä¸ª 12 å°æ—¶æœ‰æ•ˆçš„ HttpOnly ä¼šè¯ Cookieï¼Œæ— éœ€ã€ä¹Ÿä¸å†æ”¯æŒåœ¨ URL æŸ¥è¯¢å‚æ•°ä¸­ä¼ é€’å‡­æ®ã€‚ç‚¹å‡»åå°å³ä¸Šè§’çš„â€œé€€å‡ºç™»å½•â€æŒ‰é’®å³å¯ç«‹å³é”€æ¯ä¼šè¯ã€‚

## æ›´æ–°æ—¥å¿—

---

## ğŸ”§ æŠ€æœ¯æ ˆ

-   **è®¡ç®—**: [Cloudflare Workers](https://workers.cloudflare.com/)
-   **æ•°æ®åº“**: [Cloudflare D1](https://developers.cloudflare.com/d1/)
-   **å­˜å‚¨**: [Cloudflare KV](https://developers.cloudflare.com/workers/runtime-apis/kv/)
-   **å‰ç«¯æ¡†æ¶**: [TailwindCSS](https://tailwindcss.com/)

## ğŸŒŸ è´¡çŒ®

æ¬¢è¿é€šè¿‡ Issue æˆ– Pull Request ä¸ºæœ¬é¡¹ç›®è´¡çŒ®ä»£ç ã€æå‡ºé—®é¢˜æˆ–å»ºè®®ï¼

1.  Fork æœ¬ä»“åº“
2.  åˆ›å»ºä½ çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3.  æäº¤ä½ çš„æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4.  æ¨é€åˆ°ä½ çš„åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5.  åˆ›å»ºä¸€ä¸ª Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) è®¸å¯è¯ã€‚

## ğŸ“ è”ç³»æ–¹å¼

-   **é¡¹ç›®ä½œè€…**: [@ç°è‰²è½¨è¿¹](https://github.com/jy02739244)
-   **é¡¹ç›®é“¾æ¥**: [https://github.com/jy02739244/iori-nav](https://github.com/jy02739244/iori-nav)

<p align="center">å¦‚æœä½ å–œæ¬¢è¿™ä¸ªé¡¹ç›®ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ï¸ï¼</p>
